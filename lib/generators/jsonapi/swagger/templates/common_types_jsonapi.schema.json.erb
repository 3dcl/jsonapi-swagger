{
  "components": {
    "schemas": {
      "jsonapi_to_many_relationship_data": {
        "type": "array",
        "items": {
          "$ref": "#/components/schemas/jsonapi_to_one_relationship_data"
        },
        "description": "Array of associated objects links"
      },
      "jsonapi_to_one_relationship_data": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "type": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "type"
        ],
        "description": "Associated object data"
      },
      "jsonapi_relationship_data": {
        "oneOf": [
          {
            "$ref": "#/components/schemas/jsonapi_to_one_relationship_data"
          },
          {
            "$ref": "#/components/schemas/jsonapi_to_many_relationship_data"
          }
        ],
        "description": "Associated object link or an array of associated object links"
      },
      "jsonapi_resource_links": {
        "type": "object"
      },
      "jsonapi_resource": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "links": {
            "$ref": "#/components/schemas/jsonapi_resource_links"
          },
          "attributes": {
            "type": "object",
            "description": "Attributes of the included object"
          },
          "relationships": {
            "type": "object",
            "description": "Relationships of the included object",
            "properties": {
              "data": {
                "$ref": "#/components/schemas/jsonapi_relationship_data"
              }
            }
          }
        },
        "required": [
          "id",
          "type"
        ]
      }
    }
  }
}
